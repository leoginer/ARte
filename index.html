<!DOCTYPE html>
<html>
<head>
  <title>Proyecto ARte</title>

  <!-- Estilo para el cargador 
  <style>
    .arjs-loader {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .arjs-loader div {
      text-align: center;
      font-size: 1.25em;
      color: white;
    }
  </style> -->

  <!-- Importar estilos -->
  <link rel="stylesheet" href="https://leoginer.github.io/ARte/css/styles.css">

  <!-- Importar A-Frame -->
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <!-- script de AR.JS con soporte de marker + location -->
  <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

  <!-- Importar el archivo de JavaScript -->
  <script src="https://leoginer.github.io/ARte/js/app.js"></script>
</head>

<body style="margin: 0px; overflow: hidden;">

  <!-- Minimal Loader 
  <div class="arjs-loader" id="loading">
    <div>Loading, please wait...</div>
  </div> -->

  <!-- Escena de A-Frame -->
  <a-scene
    vr-mode-ui="enabled: false;"
    renderer="logarithmicDepthBuffer: true; precision: medium;"
    embedded arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
    loading-screen="enabled: false;">
    
    <!-- Cámara con cursor interactivo -->
    <a-entity camera>
      <a-cursor
        id="cursor"
        fuse="false"
        raycaster="objects: .clickable"
        material="color: white; opacity: 0.5">
      </a-cursor>
    </a-entity>

    <!-- Marcador y contenido del Cuadro 0 -->
    <a-nft
      type="nft"
      url="https://leoginer.github.io/ARte/assets/markers/marcador0"
      smooth="true" smoothCount="10" smoothTolerance="0.01" smoothThreshold="5"
      id="marker0">
      
      <!-- Plano para el video time-lapse -->
      <a-plane
        id="video-plane0"
        position="0 0 0"
        rotation="-90 0 0"
        width="1"
        height="1.4"
        material="shader: flat; src: #videoTexture0">
      </a-plane>
      
      <!-- Modelo 3D interactivo -->
      <a-entity
        id="model0"
        gltf-model="https://leoginer.github.io/ARte/assets/models/modelo0.obj"
        position="0 0.5 0"
        visible="false"
        scale="0.5 0.5 0.5"
        class="clickable"
        animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 10000">
      </a-entity>

      <!-- Audio para reproducir al final del video -->
      <a-sound
        id="audio0"
        src="https://leoginer.github.io/ARte/assets/audios/audio0.mp3"
        autoplay="false"
        loop="false"
        position="0 1 0">
      </a-sound>
      
    </a-nft>
    
    <!-- Definición del video como textura -->
    <video
      id="videoTexture0"
      src="https://leoginer.github.io/ARte/assets/videos/video0.mp4"
      loop="false"
      crossorigin="anonymous"
      preload="auto">
    </video>


    <!-- Marcador y contenido del trex -->
    <a-nft
      type="nft"
      url="https://leoginer.github.io/ARte/assets/markers/trex"
      smooth="true" smoothCount="10" smoothTolerance="0.01" smoothThreshold="5"
      id="marker-trex">
      
      <!-- Plano para el video time-lapse -->
      <a-plane
        id="video-plane-trex"
        position="0 0 0"
        rotation="-90 0 0"
        width="1"
        height="1.4"
        material="shader: flat; src: #videoTexture-trex">
      </a-plane>
      
      <!-- Modelo 3D interactivo -->
      <a-entity
        id="model-trex"
        gltf-model="https://leoginer.github.io/ARte/assets/models/trex.gltf"
        position="0 0.5 0"
        visible="false"
        scale="0.5 0.5 0.5"
        class="clickable"
        animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 10000">
      </a-entity>

      <!-- Audio para reproducir al final del video -->
      <a-sound
        id="audio-trex"
        src="https://leoginer.github.io/ARte/assets/audios/audio-trex.mp3"
        autoplay="false"
        loop="false"
        position="0 1 0">
      </a-sound>
      
    </a-nft>
    
    <!-- Definición del video como textura -->
    <video
      id="videoTexture-trex"
      src="https://leoginer.github.io/ARte/assets/videos/video-trex.mp4"
      loop="false"
      crossorigin="anonymous"
      preload="auto">
    </video>

  </a-scene>

  <!-- Script para ocultar el cargador cuando se cargan los descriptores -->
  <script>
    document.addEventListener("arjs-nft-loaded", () => {
      const loader = document.getElementById("loading");
      if (loader) loader.style.display = "none";
    });
  </script>
</body>
</html>


