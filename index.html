<!DOCTYPE html>
<html>
<head>
  <title>Proyecto ARte</title>
  <link rel="stylesheet" href="https://leoginer.github.io/ARte/css/styles.css">

  <!-- Importar A-Frame -->
  <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1.3.0/dist/aframe-master.min.js"></script>
  <!-- Importar AR.js para A-Frame (NFT) -->
  <script src="https://cdn.jsdelivr.net/npm/ar.js@3.3.2/aframe/build/aframe-ar-nft.js"></script>
</head>

<body style="margin: 0px; overflow: hidden;">

  <a-scene
    vr-mode-ui="enabled: false;"
    renderer="logarithmicDepthBuffer: true; precision: medium;"
    embedded arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: true;"
    loading-screen="enabled: false;">

    <!-- Cámara con cursor interactivo -->
    <a-entity camera>
      <a-cursor
        id="cursor"
        fuse="false"
        raycaster="objects: .clickable"
        material="color: white; opacity: 0.5">
      </a-cursor>
    </a-entity>

    <!-- Marcador NFT marcador0 -->
    <a-nft
      type="nft"
      url="https://leoginer.github.io/ARte/assets/markers/marcador0"
      smooth="true" smoothCount="10" smoothTolerance="0.01" smoothThreshold="5">
      
      <a-plane
        id="video-plane-marcador0"
        position="0 0 0"
        rotation="-90 0 0"
        width="1"
        height="1.4"
        material="shader: flat; src: #videoTexture-marcador0">
      </a-plane>

      <a-entity
        id="model-marcador0"
        gltf-model="https://leoginer.github.io/ARte/assets/models/modelo0.obj"
        position="0 0.5 0"
        visible="false"
        scale="0.5 0.5 0.5"
        class="clickable"
        animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 10000">
      </a-entity>

      <a-sound
        id="audio-marcador0"
        src="https://leoginer.github.io/ARte/assets/audios/audio0.mp3"
        autoplay="false"
        loop="false"
        position="0 1 0">
      </a-sound>
    </a-nft>

    <!-- Marcador NFT trex -->
    <a-nft
      type="nft"
      url="https://leoginer.github.io/ARte/assets/markers/trex"
      smooth="true" smoothCount="10" smoothTolerance="0.01" smoothThreshold="5">
      
      <a-plane
        id="video-plane-trex"
        position="0 0 0"
        rotation="-90 0 0"
        width="1"
        height="1.4"
        material="shader: flat; src: #videoTexture-trex">
      </a-plane>

      <a-entity
        id="model-trex"
        gltf-model="https://leoginer.github.io/ARte/assets/models/trex.gltf"
        position="0 0.5 0"
        visible="false"
        scale="0.5 0.5 0.5"
        class="clickable"
        animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 10000">
      </a-entity>

      <a-sound
        id="audio-trex"
        src="https://leoginer.github.io/ARte/assets/audios/audio-trex.mp3"
        autoplay="false"
        loop="false"
        position="0 1 0">
      </a-sound>
    </a-nft>
  </a-scene>

  <script>
    // Depuración: Muestra si los marcadores han sido cargados correctamente
    document.addEventListener("arjs-nft-loaded", () => {
      console.log("Marcadores cargados correctamente.");
    });

    // Depuración: Muestra si el marcador se detecta o pierde
    document.querySelectorAll("a-nft").forEach(marker => {
      marker.addEventListener("markerFound", () => {
        console.log(`Marcador detectado: ${marker.getAttribute('url')}`);
      });
      marker.addEventListener("markerLost", () => {
        console.log(`Marcador perdido: ${marker.getAttribute('url')}`);
      });
    });
  </script>

</body>
</html>



